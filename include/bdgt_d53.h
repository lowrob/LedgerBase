/*
*	bdgt_d53.h
*
*	SYSTEM :  Financial Accounting.
*	MODULE :  General Ledger Sub-System.
*
*	Contains PROFOM Screen Structure and common variables and
*	definitions shared by different Budget report programs.
*/

#include <bfs_defs.h>
#include <bfs_recs.h>
#include <repdef.h>

#define	USER_KEYS	7	/* NO of User keys */
#define	SUM_SORTS	6	/* NO of Summary Report sorts */

#define	KEY_EXISTS(X)	(rp_sth.s_sort_keys[X - 1])	/* User Given */
#define	KEY(X)		(KEY_EXISTS(X) - 1)

#define	SK1		(SortKeys[rp_sth.s_sort_no - 1][0])
#define	SK2		(SortKeys[rp_sth.s_sort_no - 1][1])
#define	SK3		(SortKeys[rp_sth.s_sort_no - 1][2])

#define	ALL_KEYS	SW3
#define	COMPANY		SW7

/* bdgt_rep.sth - header for C structure generated by PROFOM EDITOR */

struct	rs_struct	{

	char	s_pgm[11];	/* STRING XXXXXXXXXX Field 100 */
	long	s_rundt;	/* DATE DDFMMFYY Field 300 */

	char	s_option[3];	/* STRING X Field 1600 */

	short	s_sort_keys[USER_KEYS] ;/* NUMERIC 99 Field 1700 to 2300 */

	char	s_output[2];	/* STRING X Field 2400 */
	short	s_copies;	/* NUMERIC 99 Field 2500 */
	char	s_filenm[15];	/* STRING X[14] Field 2600 */

	short	s_fm_fund;	/* NUMERIC 999 Field 2700 */
	short	s_to_fund;	/* NUMERIC 999 Field 2800 */

	short	s_period ;	/* NUMERIC 99 Field 2900 */

	short	s_sort_no ;	/* NUMERIC 99 Field 3000 */

	long	s_fm_ccno ;	/* NUMERIC 99999 Field 3100 */
	long	s_to_ccno ;	/* NUMERIC 99999 Field 3200 */

	long	s_fm_key8 ;	/* NUMERIC 99999 Field 3300 */
	long	s_to_key8 ;	/* NUMERIC 99999 Field 3400 */

	char	s_mesg[78];	/* STRING X[77] Field 3500 */
	int	s_resp;		/* YES/NO B Field 3600 */

};

/* Totalling variables */
typedef	struct	{

	double	per_prev_yr ;	/* Period - Prev Year Actual */
	double	per_actual ;	/* Period - Cur Year Actual */
	double	per_budget ;	/* Period - Cur Year Budget */

	double	cum_prev_yr ;	/* Cumulative Upto Period - Prev Year Actual */
	double	cum_actual ;	/* Cumulative Upto Period - Cur Year Actual */
	double	cum_budget ;	/* Cumulative Upto Period - Cur Year Budget */
	double	cum_curbud ;	/* Cumulative - Current Year Budget */
	double	cum_comdat ;	/* Cumulative - Committed to date */

} Btotal ;

/* common variables for all reports */

#ifdef	MAIN

#define	END_FLD		3600		/* Last Field in PROFOM Screen */

/* PROFOM Field#s */

#define	OPTION_FLD	1600		/* Option: */
#define	SORT_KEYS	1700		/* Keys: */
#define	OPTION_START	1700		/* Keys: */
#define	OPTION_END	3400		/* Key-8's To: */
#define	OUTPUT_ON_FLD	2400		/* Output On: */
#define	COPIES_FLD	2500		/* No of Copies: */
#define	FILE_FLD	2600		/* File Name: */
#define	FUND_FM_FLD	2700		/* Fund */
#define	FUND_TO_FLD	2800		/* Fund To */
#define	PERIOD_FLD	2900		/* Period: */
#define	SORT_NO_FLD	3000		/* Sort#: */
#define CC_FM_FLD	3100		/* Cost Center Keys */
#define CC_TO_FLD	3200		/* Cost Center Keys To */
#define	KEY8_FM_FLD	3300		/* Key 8's */
#define	KEY8_TO_FLD	3400		/* Key 8's To */

struct	rs_struct	rp_sth ;	/* PROFOM Scrren Structure */
struct	stat_rec	sr ;		/* PROFOM Status Record */

Pa_rec	pa_rec ;			/* Parameters rec */
Ctl_rec	ctl_rec ;			/* Control Record */
Gl_rec	gl_rec ;			/* GL Master Record */
Gl_rec	title_rec ;			/* Title Record */

short	pgcnt;				/* Page counter */
int	ret_cd;				/* Function return value */

char	e_mesg[100];			/* error message string */

char	Hyphens[] = "--------------------------------------------------" ;
					/* 50 Hyphens */
char	Date_Mask[] = "____/__/__" ;	/* Date mask */
char	Mask_2[]    = "0_" ;		/* 2 Char mask */
char	Mask_4[]    = "__0_" ;		/* 4 Char mask */
char	Mask_5[]    = "___0_" ;		/* 5 Char mask */
char	Mask_7[]    = "___,__0-" ;	/* 7 Char mask + Minus Sign */
char	Mask_7_4[]  = "_0_.____-" ;	/* 7.4 Mask + Minus Sign */
char	Mask_9[]    = "_____,__0-" ;	/* 9 Char Mask + Minus Sign */
char	Mask_10[]   = "__,___,__0-" ;	/* 10 Char Mask + Minus Sign */

#else

extern	struct	rs_struct	rp_sth ;	/* PROFOM Scrren Structure */

extern	Pa_rec	pa_rec ;		/* Parameters rec */
extern	Ctl_rec	ctl_rec ;		/* Control Record */
extern	Gl_rec	gl_rec ;		/* GL Master Record */
extern	Gl_rec	title_rec ;		/* Title Record */


extern	short	pgcnt;			/* Page counter */
extern	int	ret_cd;			/* Function return value */

extern	char	e_mesg[80];		/* error message string */

extern	char	Hyphens[] ;		/* 50 Hyphens */

extern	char	Date_Mask[] ;		/* Date mask */
extern	char	Mask_2[]    ;		/* 2 Char mask */
extern	char	Mask_4[]    ;		/* 4 Char mask */
extern	char	Mask_5[]    ;		/* 5 Char mask */
extern	char	Mask_7[]    ;		/* 7 Char mask + Minus Sign */
extern	char	Mask_7_4[]  ;		/* 7.4 Mask + Minus Sign */
extern	char	Mask_9[]    ;		/* 9 Char Mask + Minus Sign */
extern	char	Mask_10[]   ;		/* 10 Char Mask + Minus Sign */

#endif

double	Cumulative() ;

/*--------------------------END OF FILE----------------------------*/
